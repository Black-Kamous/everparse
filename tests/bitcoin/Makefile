TEST_BLOCKS= \
    0000000000000000079c58e8b5bce4217f7515a74b170049398ed9b8428beb4a \
    0000000000000000000a4fcae7d843680daf8da4617b5510d6f6ad7c46c67ec9 \
    0000000000000000001f18ef31b6e9314009b3f71da979d2089af1e7196726bd \
    000000000000000000056e8431d85eec5b0bc0eb0c9e71476c47f54ab232e1f3 \
    00000000000000000010102f914bf13f964da51bbfc33843235be4cc2e553cd5 \
    0000000000000000000012e7ac0b495e608f9fd3812f60ddf8b9d492959e3933 \
    00000000000000000007c7db5a704164cb68dbe4ab08484099031b124b9b911b \
    0000000000000000001579bae335c3bb1c2b354ac5b0750ad82265e9357c88c9 \
    00000000000000000006016f867480e5700ae6e00c5c2261e88492cfa6df0399 \
    0000000000000000001ab3129a9dbb5f5388413a6ade1402909fed3f692b88bd \
    00000000000000000029b7bb83c24b1bfb2707461f42da81fe0e81cc3d7918fb \


all: $(addsuffix .test,$(TEST_BLOCKS))

../unit/test.exe:
	+$(MAKE) -C ../unit

%.test: %.raw ../unit/test.exe
	../unit/test.exe $<
	touch $@

%.raw: %.hex
	xxd -r -p $< > $@

%.hex:
	wget -O $@ "https://blockchain.info/block/$(basename $@)?format=hex"

.PRECIOUS: %.raw %.hex
