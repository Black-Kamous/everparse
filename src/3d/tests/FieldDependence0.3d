typedef struct _t (UINT32 a) {
   UINT32 x;
} t, *pt;

entrypoint
typedef struct _s {
   UINT32 a; //this should be dependent
   t(a) b;
} s, *ps;

casetype _D (UINT32 key) {
  switch (key) {
  case 1:
    UINT16 u16;
  case 2:
    UINT32 u32;
  case 3:
    all_bytes padding3;
  case 4:
    all_zeros padding4;
  }
} D;

entrypoint
typedef struct _s2 {
   UINT16 nondep;
   UINT32 length;
   UINT32 key; //this should be dependent
   D(key) pl[:byte-size-single-element-array-at-most length];
   D(key) pl_array2[:byte-size-single-element-array length];
   D(key) payload;
} s2, *ps2;
